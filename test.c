#include <stdio.h>
#include "vag-rosetta.h"

int test_decode(uint8_t bytes[3]) {
    vag_value val;
    if (decode_value(bytes, &val)) {
        print_value(&val);
    }
    else
        printf("Could not decode %02x %02x %02x\n", bytes[0], bytes[1], bytes[2]);
}

int main(void)
{
    uint8_t bytes[][3] = {{0x01, 0xc8, 0x31},
                          {0x05, 0x07, 0xd4},
                          {0x0b, 0x4e, 0x8c},
                          {0x04, 0x4b, 0x78},
                          {0x01, 0xc8, 0x11},
                          {0x0f, 0x0a, 0x28},
                          {0x06, 0x44, 0xbb},
                          {0x05, 0x0e, 0xbf},
                          {0x01, 0xc8, 0x12},
                          {0x02, 0xfa, 0x05},
                          {0x03, 0xd0, 0x1b},
                          {0x05, 0x07, 0x9d},
                          {0x01, 0xc8, 0x11},
                          {0x02, 0xfa, 0x05},
                          {0x07, 0xc0, 0x00},
                          {0x10, 0x1f, 0x02},
                          {0x01, 0xc8, 0x11},
                          {0x0b, 0x4e, 0x80},
                          {0x02, 0xc8, 0x8e},
                          {0x10, 0x1b, 0x01},
                          {0x0b, 0x4e, 0x8f},
                          {0x0b, 0x4e, 0x80},
                          {0x01, 0xc8, 0x11},
                          {0x05, 0x07, 0xd6},
                          {0x0b, 0x4e, 0x90},
                          {0x04, 0x4b, 0x79},
                          {0x01, 0xc8, 0x11},
                          {0x0f, 0x0a, 0x25},
                          {0x06, 0x44, 0xb8},
                          {0x05, 0x0e, 0xbf},
                          {0x02, 0xfa, 0x05},
                          {0x03, 0xd0, 0x1b},
                          {0x05, 0x07, 0x9d}};
    uint8_t (*p)[3] = bytes;

    for(;(void*)p < ((void*)bytes + sizeof(bytes) - 1); p++){
        test_decode(*p);
    }
    return 0;
}

/*
0x0b 0x4e 0x8c
0x04 0x4b 0x78
0x01 0xc8 0x11
0x0f 0x0a 0x28
0x06 0x44 0xbb
0x05 0x0e 0xbf
0x01 0xc8 0x12
0x02 0xfa 0x05
0x03 0xd0 0x1b
0x05 0x07 0x9d
0x01 0xc8 0x11
0x02 0xfa 0x05
0x07 0xc0 0x00
0x10 0x1f 0x02
0x01 0xc8 0x11
0x0b 0x4e 0x80
0x02 0xc8 0x8e
0x10 0x1b 0x01
0x0b 0x4e 0x8f
0x0b 0x4e 0x80
0x01 0xc8 0x11
0x05 0x07 0xd6
0x0b 0x4e 0x90
0x04 0x4b 0x79
0x01 0xc8 0x11
0x0f 0x0a 0x25
0x06 0x44 0xb8
0x05 0x0e 0xbf
0x02 0xfa 0x05
0x03 0xd0 0x1b
0x05 0x07 0x9d
*/
